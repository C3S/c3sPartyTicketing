<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="base"
      i18n:domain="c3spartyticketing">
  <head>
    <title>c3sPartyTicketing Statistics</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <link rel="shortcut icon"
          href="${request.static_url('c3spartyticketing:static/favicon.ico')}" />
    <tal:block metal:fill-slot="deform-js-css">
      <!-- Javascripts -->
      <script src="${request.static_url('c3spartyticketing:static/jquery-2.0.3/jquery-2.0.3.min.js')}"
              type="text/javascript"></script>
      <script src="${request.static_url('c3spartyticketing:static/bootstrap-3.0.3-dist/js/bootstrap.js')}"
              type="text/javascript"></script>
      <script src="${request.static_url('deform:static/scripts/typeahead.min.js')}"
              type="text/javascript"></script>
      <script src="${request.static_url('deform:static/scripts/deform.js')}"
              type="text/javascript"></script>
      <script src="${request.static_url('deform:static/scripts/jquery.form.js')}"
              type="text/javascript"></script>
      <!-- Stylesheets -->
      <link href="${request.static_url('c3spartyticketing:static/bootstrap-3.0.3-dist/css/bootstrap.css')}"
            rel="stylesheet" type="text/css" media="screen" charset="utf-8" />
      <link rel="stylesheet" href="${request.static_url('deform:static/css/form.css')}"
            type="text/css" media="screen" charset="utf-8" />
      <link rel="stylesheet" href="${request.static_url('deform:static/css/typeahead.css')}"
            type="text/css" media="screen" charset="utf-8" />
      <link href="${request.static_url('c3spartyticketing:static/c3sM.css')}"
            rel="stylesheet" type="text/css" media="screen" charset="utf-8" />
    </tal:block>
  </head>
  <body>
    <tal:block metal:fill-slot="top"></tal:block>
    <tal:block metal:fill-slot="middle">
      <div id="wrap">
        <div id="main">
          
          <h1>Statistiken</h1>
          
          
          <h2>Allgemein</h2>
          <table class="table table-striped">
            <colgroup>
              <col style="width:150px;">
              <col style="width:150px;">
              <col style="width:150px; border-left: 1px solid green;">
              <col style="width:150px;">
              <col style="width:150px;">
              <col style="width:150px; border-left: 1px solid green;">
              <col style="border-left: 1px solid green;">
            </colgroup>
            <tr>
              <td></td>
              <td><b>gesamt</b></td>
              <td><b>mitglieder</b></td>
              <td><b>ordentlich</b></td>
              <td><b>fördernd</b></td>
              <td><b>nicht-mitglieder</b></td>
              <td><b>unbekannt</b></td>
            </tr>
            <tr>
              <td><b>DB-Einträge</b></td>
              <td><b>${stats.general.datasets.total}<b></td>
              <td>${stats.general.datasets.member}</td>
              <td>${stats.general.datasets.normal}</td>
              <td>${stats.general.datasets.investing}</td>
              <td>${stats.general.datasets.nonmember}</td>
              <td>${stats.general.datasets.unknown}</td>
            </tr>
          </table>

          
          <h2>Events</h2>

          <h3>
            Generalversammlung (${stats.events.gv.participating.total
              + stats.events.gv.represented.total})
          </h3>
          <table class="table table-striped">
            <colgroup>
              <col style="width:150px;">
              <col style="width:150px;">
              <col style="width:150px; border-left: 1px solid green;">
              <col style="width:150px;">
              <col style="width:150px;">
              <col style="width:150px; border-left: 1px solid green;">
              <col style="border-left: 1px solid green;">
            </colgroup>
            <tr>
              <td></td>
              <td><b>gesamt</b></td>
              <td><b>mitglieder</b></td>
              <td><b>ordentlich</b></td>
              <td><b>fördernd</b></td>
              <td><b>nicht-mitglieder</b></td>
              <td><b>unbekannt</b></td>
            </tr>
            <tr>
              <td><b>Teilnahme</b></td>
              <td><b>${stats.events.gv.participating.total}</b></td>
              <td>${stats.events.gv.participating.member}</td>
              <td>${stats.events.gv.participating.normal}</td>
              <td>${stats.events.gv.participating.investing}</td>
              <td>${stats.events.gv.participating.nonmember}</td>
              <td>${stats.events.gv.participating.unknown}</td>
            </tr>
            <tr>
              <td><b>Repräsentant</b></td>
              <td><b>${stats.events.gv.represented.total}</b></td>
              <td>${stats.events.gv.represented.member}</td>
              <td>${stats.events.gv.represented.normal}</td>
              <td>${stats.events.gv.represented.investing}</td>
              <td>${stats.events.gv.represented.nonmember}</td>
              <td>${stats.events.gv.represented.unknown}</td>
            </tr>
            <tr>
              <td><b>Absage</b></td>
              <td><b>${stats.events.gv.cancelled.total}</b></td>
              <td>${stats.events.gv.cancelled.member}</td>
              <td>${stats.events.gv.cancelled.normal}</td>
              <td>${stats.events.gv.cancelled.investing}</td>
              <td>${stats.events.gv.cancelled.nonmember}</td>
              <td>${stats.events.gv.cancelled.unknown}</td>
            </tr>
          </table>

          <h3>Barcamp (${stats.events.bc.participating.total})</h3>
          <table class="table table-striped">
            <colgroup>
              <col style="width:150px;">
              <col style="width:150px;">
              <col style="width:150px; border-left: 1px solid green;">
              <col style="width:150px;">
              <col style="width:150px;">
              <col style="width:150px; border-left: 1px solid green;">
              <col style="border-left: 1px solid green;">
            </colgroup>
            <tr>
              <td></td>
              <td><b>gesamt</b></td>
              <td><b>mitglieder</b></td>
              <td><b>ordentlich</b></td>
              <td><b>fördernd</b></td>
              <td><b>nicht-mitglieder</b></td>
              <td><b>unbekannt</b></td>
            </tr>
            <tr>
              <td><b>Teilnahme</b></td>
              <td><b>${stats.events.bc.participating.total}</b></td>
              <td>${stats.events.bc.participating.member}</td>
              <td>${stats.events.bc.participating.normal}</td>
              <td>${stats.events.bc.participating.investing}</td>
              <td>${stats.events.bc.participating.nonmember}</td>
              <td>${stats.events.bc.participating.unknown}</td>
            </tr>
            <tr>
              <td><b>Absage</b></td>
              <td><b>${stats.events.bc.cancelled.total}</b></td>
              <td>${stats.events.bc.cancelled.member}</td>
              <td>${stats.events.bc.cancelled.normal}</td>
              <td>${stats.events.bc.cancelled.investing}</td>
              <td>${stats.events.bc.cancelled.nonmember}</td>
              <td>${stats.events.bc.cancelled.unknown}</td>
            </tr>
            <tr><td colspan="5"></td></tr>
            <tr>
              <td><b>Buffet</b></td>
              <td><b>${stats.events.bc.buffet.total}</b></td>
              <td>${stats.events.bc.buffet.member}</td>
              <td>${stats.events.bc.buffet.normal}</td>
              <td>${stats.events.bc.buffet.investing}</td>
              <td>${stats.events.bc.buffet.nonmember}</td>
              <td>${stats.events.bc.buffet.unknown}</td>
            </tr>
          </table>

          
          <h2>Extras</h2>

          <h3>T-Shirts (${stats.extras.tshirts.total})</h3>
          <table class="table table-striped">
            <tr>
              <td></td>
              <td><b>S</b></td>
              <td><b>M</b></td>
              <td><b>L</b></td>
              <td><b>XL</b></td>
              <td><b>XXL</b></td>
              <td><b>XXXL</b></td>
            </tr>
            <tr>
              <td><b>female</b></td>
              <td>${stats.extras.tshirts.female.S}</td>
              <td>${stats.extras.tshirts.female.M}</td>
              <td>${stats.extras.tshirts.female.L}</td>
              <td>${stats.extras.tshirts.female.XL}</td>
              <td>${stats.extras.tshirts.female.XXL}</td>
              <td>${stats.extras.tshirts.female.XXXL}</td>
            </tr>
            <tr>
              <td><b>male</b></td>
              <td>${stats.extras.tshirts.male.S}</td>
              <td>${stats.extras.tshirts.male.M}</td>
              <td>${stats.extras.tshirts.male.L}</td>
              <td>${stats.extras.tshirts.male.XL}</td>
              <td>${stats.extras.tshirts.male.XXL}</td>
              <td>${stats.extras.tshirts.male.XXXL}</td>
            </tr>
          </table>
          
          
          <h2>Abrechnung</h2>

          <h3>Bestellungen</h3>
          <p>
            Summe Tickets insgesammt im System (teilw. unbezahlt): 
            <span style="color:orange">
              ${stats.accounting.order.sum_tickets_total} €
            </span><br />
            Summe unbezahlter Tickets:
            <span style="color:red">
              ${stats.accounting.order.sum_tickets_unpaid} €
            </span> &lt;- nachfassen oder löschen?<br />
          </p>
          <p>Summe bezahlter Tickets:
            <span style="color:green">
              ${stats.accounting.order.sum_tickets_paid} €
            </span><br />
          </p>
          <p>
            Summe <strong>im Vorverkauf</strong> bestellter Tickets:
            <span style="color:green">
              ${stats.accounting.order.sum_tickets_paid 
                - stats.accounting.order.sum_tickets_paid_desk} € 
            </span> (incl. Nachzahlungen!)<br />
            Summe <strong>an der Abendkasse</strong> bezahlter Tickets:
            <span style="color:green">
              ${stats.accounting.order.sum_tickets_paid_desk} €
            </span><br />
          </p>

          <h3>Tickets</h3>
          <p>
            <strong>Personen</strong>,
            die bezahlt UND eingechecked haben (ohne Schwarzfahrer!):
            ${stats.accounting.tickets.num_passengers_paid_checkedin}<br />
            <strong>Summe</strong>,
            die an der Kasse nachbezahlt oder Zahlung belegt wurde
            (für vorbestellte Tickets):
            ${stats.accounting.tickets.sum_tickets_preorder_cash} <br />
            <strong>Summe</strong>,
            die an der Kasse bezahlt wurde (für neue Tickets):
            ${stats.accounting.tickets.sum_tickets_new_cash} 
          </p>

          <!--!
          <h3><small>Anzahl</small> Tickets</h3>
          <p>
            ${_number_of_datasets} DB-Einträge
            <small>('Sammeltickets' i.S.V. Bestellungen/Buchungen/Überweisungen)</small>.
            <br />
            ${_number_of_tickets} Personen
            <small>('Einzeltickets' i.S.V. Einzelpersonen)</small> (bezahlt und unbezahlt)<br />
            ${_num_passengers} Passagiere an Bord/eingecheckt
            <small>('Tickets' i.S.V. Einzelpersonen)</small><br />
            ${_num_open_tickets} offene Tickets (bezahlt, nicht eingecheckt)
            <small>(Bezahlte Tickets f. Einzelpersonen)</small>
            (Könnte sein, dass die noch kommen!)<br />
            ${_num_tickets_unpaid} offene Tickets (unbezahlt)
            <small>(Tickets f. Einzelpersonen ohne Überweisungseingang)</small>
            (erwarten überweisung.)<br />
          </p>
          <h3><small>Anzahl Tickets</small> nach Kategorien</h3>
          <p>
            $ off {num_hobos} x Hobo (0€) (eingecheckt: $ off {num_hobos_checked})<br />
            ${num_normal} x Normal (eingecheckt: ${num_normal_checked})<br />
            ${num_investing} x Investing (eingecheckt: ${num_investing_checked})<br />
          </p>

          <div class="row container-fluid">
            <div class="col-xs-4">
              <h4>gesammt</h4>
              <p>
                $ off {num_class_2} x 2. Klasse (5€)<br />
                $ off {num_class_2_food} x 2. Klasse + Sp. (15€)<br />
                $ off {num_class_1} x 1. Klasse (50€) <br />
                $ off {num_class_green} x Grüne Mamba (100€)<br />
              </p>
            </div>
            <div class="col-xs-4">
              <h4>Vorbestellt</h4>
              <p>
                $ off {num_class_2_pre} x 2. Klasse (5€)<br />
                $ off {num_class_2_food_pre} x 2. Klasse + Sp. (15€)<br />
                $ off {num_class_1_pre} x 1. Klasse (50€) <br />
                $ off {num_class_green_pre} x Grüne Mamba (100€)<br />
              </p>
            </div>
            <div class="col-xs-4">
              <h4>Abendkasse</h4>
              <p>
                $ off {num_class_2_cash} x 2. Klasse (5€)<br />
                $ off {num_class_2_food_cash} x 2. Klasse + Sp. (15€)<br />
                $ off {num_class_1_cash} x 1. Klasse (50€) <br />
                $ off {num_class_green_cash} x Grüne Mamba (100€)<br />
              </p>
            </div>
          </div> 
          -->

        </div>
      </div>
    </tal:block>
    <tal:block metal:fill-slot="footer">
      <div class="hidden-print">
        <p><a href="${request.route_url('dashboard', number=0)}"
              class="btn btn-primary">Dashboard</a></p>
        <p><a href="${request.route_url('kasse')}" class="btn btn-warning">Kasse</a></p>
        <p><a href="${request.route_url('logout')}" class="btn btn-danger">Abmelden</a></p>
      </div>
    </tal:block>
  </body>
</html>
